<!--
  Generated template for the Ipcameras page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-toolbar color="primary">
    <ion-buttons start>
      <button ion-button icon-only [disabled]="isRecording" (click)="loadIPCams()"><ion-icon name="refresh"></ion-icon></button>
    </ion-buttons>
    <ion-title>IP Cams Capture</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="dismiss()"><ion-icon name="close"></ion-icon></button>
    </ion-buttons>
  </ion-toolbar>

</ion-header>


<ion-content style="background:#eee;">

  <ion-item>
    <ion-label item-left>Rec. Duration: {{recordingDuration}}sec</ion-label>
    <ion-range item-right min="5" max="45" step="5" snaps="true" [(ngModel)]="recordingDuration">
        <ion-label range-left>5s</ion-label>
        <ion-label range-right>45s</ion-label>
      </ion-range>
  </ion-item>

  <ion-row center *ngIf="ipCams.length==0" style="position: absolute;margin-top:50%; color: gray;">
    <ion-col text-center center>
      no IP camera present
    </ion-col>
  </ion-row>

  <ion-list>
    <ion-card *ngFor="let cam of ipCams">
      <ion-item>
        <b>{{cam._IPAdd}}</b>
        <!--<ion-icon item-right name="arrow-dropdown"></ion-icon>-->
      </ion-item>
      <img [attr.src]="getIPCamPreview(cam._IPAdd)" style="max-height:350px;background-color: #cccccc;background-image: url(assets/sample.jpg);background-size: cover;background-position: center;"
      />
    </ion-card>
  </ion-list>

  <ion-fab bottom left (click)="presentSettingsModal()">
    <button ion-fab mini><ion-icon name="md-settings"></ion-icon></button>
  </ion-fab>
  <ion-fab bottom center>
    <button ion-fab color="danger" [disabled]="ipCams.length==0 || isRecording" (click)="startRecording()"><ion-icon name="radio-button-on"></ion-icon></button>
  </ion-fab>
  <ion-fab bottom right>
    <button ion-fab mini (click)="timerONOFF()" [style.opacity]="timerButtonOpacity"><ion-icon name="timer"></ion-icon></button>
  </ion-fab>
</ion-content>